# 居住支援記録システム

居住支援事業者向けの利用者ケア記録管理システムです。ITスキルが限られたスタッフでも簡単に使用でき、支援の抜け漏れを防ぐことを目的としています。

## 🚀 機能

### 📊 ダッシュボード
- 利用者のケア状況を一覧表示
- 最終接触日からの経過日数を自動計算
- 90日以上未接触の要注意利用者をハイライト表示
- 担当スタッフでのフィルタリング機能

### 📝 活動記録管理
- 簡単な入力フォームで活動記録を追加
- 次回対応予定の設定機能
- 活動種別の色分け表示

### 📅 カレンダー表示
- 月間カレンダーで活動記録を視覚的に確認
- 活動種別ごとの色分け表示
- 日別の活動詳細表示

### 👥 利用者詳細
- 個別の利用者情報表示
- 活動履歴の時系列表示
- 次回予定の確認

### ⚙️ マスタデータ管理
- スタッフ管理
- 利用者管理
- 活動種別管理

## 🛠️ 技術スタック

- **フレームワーク**: Next.js 14 (App Router)
- **言語**: TypeScript
- **スタイリング**: Tailwind CSS
- **UIコンポーネント**: shadcn/ui
- **データベース**: Supabase
- **デプロイ**: Vercel

## 📦 セットアップ

### 1. リポジトリのクローン

\`\`\`bash
git clone <repository-url>
cd residential-support-system
\`\`\`

### 2. 依存関係のインストール

\`\`\`bash
npm install
\`\`\`

### 3. 環境変数の設定

`.env.local`ファイルを作成し、以下の環境変数を設定してください：

\`\`\`env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url_here
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here
\`\`\`

### 4. Supabaseの設定

#### データベーステーブルの作成

`scripts/01-create-tables.sql`を実行してテーブルを作成してください。

#### サンプルデータの投入

`scripts/02-seed-data.sql`を実行してサンプルデータを投入してください。

### 5. 開発サーバーの起動

\`\`\`bash
npm run dev
\`\`\`

ブラウザで `http://localhost:3000` を開いてアプリケーションを確認してください。

## 🗄️ データベース構造

### テーブル一覧

- **staff**: スタッフ情報
- **users**: 利用者情報
- **activity_types**: 活動種別
- **activity_records**: 活動記録

詳細なスキーマは `scripts/01-create-tables.sql` を参照してください。

## 🚀 デプロイ

### Vercelでのデプロイ

1. Vercelアカウントにログイン
2. GitHubリポジトリを接続
3. 環境変数を設定
4. デプロイ実行

### Supabaseインテグレーション

Vercelダッシュボードで「Supabase」インテグレーションを追加することで、環境変数が自動設定されます。

## 📋 使用方法

### 基本的な運用フロー

1. **初期設定**
   - スタッフ情報の登録
   - 利用者情報の登録
   - 活動種別の設定

2. **日常業務**
   - ダッシュボードで要注意利用者を確認
   - 活動記録の入力
   - カレンダーでスケジュール確認

3. **定期確認**
   - 90日以上未接触の利用者への対応
   - 次回予定の確認と実行

## 🔧 カスタマイズ

### 要注意期間の変更

`app/page.tsx`の以下の部分を変更することで、要注意とする期間を調整できます：

\`\`\`typescript
is_overdue: daysElapsed > 90, // 90日を任意の日数に変更
\`\`\`

### 活動種別の追加

設定画面から新しい活動種別を追加できます。色分けも自由に設定可能です。

## 🤝 貢献

プルリクエストやイシューの報告を歓迎します。

## 📄 ライセンス

MIT License

## 📞 サポート

質問や問題がある場合は、GitHubのIssuesでお知らせください。
